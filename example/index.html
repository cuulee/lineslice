
<html>
<head>
<meta charset=utf-8 />
<title>PipeLeaflet</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

 <script src="https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
 <link rel="stylesheet" href="https://npmcdn.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />
 <div id="map"></div>

<style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; }
</style>
</head>
<body>
<style>
table, th, td {
    border: 1px solid black;
}
</style>

<script>
var map = L.map('map');

map.setView([39.9,-79.9], 4);
mapLink = '<a href="http://openstreetmap.org">OpenStreetMap</a>';
L.tileLayer(
	'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		attribution: '&copy; ' + mapLink + ' Contributors',
		maxZoom: 15,
	}).addTo(map);
map.setMaxZoom(20)

$.getJSON('http://rawgit.com/murphy214/lineslice/master/example/lines.geojson',function(data) { addDataToMap0(data,map); });
	function addDataToMap0(data, map) {
		var dataLayer = L.geoJson(data, {
			style: function(feature) {
				return {"color": feature.properties['COLORKEY'],"weight": 3,"opacity": 1.0}
			},
			onEachFeature: function(feature, layer) {                        var popupText = "<table><tr><th>labelsrt: </th><td>" + feature.properties['labelsrt']+"</td></tr>";             var popupText = popupText+ "<tr><th>localname: </th><td>" + feature.properties['localname']+"</td></tr>";             var popupText = popupText+ "<tr><th>routeiddir: </th><td>" + feature.properties['routeiddir']+"</td></tr>";             var popupText = popupText+ "<tr><th>DISTANCES: </th><td>" + feature.properties['DISTANCES']+"</td></tr>";             var popupText = popupText+ "<tr><th>district: </th><td>" + feature.properties['district']+"</td></tr>";             var popupText = popupText+ "<tr><th>dsurvey: </th><td>" + feature.properties['dsurvey']+"</td></tr>";             var popupText = popupText+ "<tr><th>signsystem: </th><td>" + feature.properties['signsystem']+"</td></tr>";             var popupText = popupText+ "<tr><th>comments: </th><td>" + feature.properties['comments']+"</td></tr>";             var popupText = popupText+ "<tr><th>label: </th><td>" + feature.properties['label']+"</td></tr>";             var popupText = popupText+ "<tr><th>COLORKEY: </th><td>" + feature.properties['COLORKEY']+"</td></tr>";             var popupText = popupText+ "<tr><th>gid: </th><td>" + feature.properties['gid']+"</td></tr>";             var popupText = popupText+ "<tr><th>subroute: </th><td>" + feature.properties['subroute']+"</td></tr>";             var popupText = popupText+ "<tr><th>direction: </th><td>" + feature.properties['direction']+"</td></tr>";             var popupText = popupText+ "<tr><th>labelsup: </th><td>" + feature.properties['labelsup']+"</td></tr>";             var popupText = popupText+ "<tr><th>routeid: </th><td>" + feature.properties['routeid']+"</td></tr>";             var popupText = popupText+ "<tr><th>cbmp: </th><td>" + feature.properties['cbmp']+"</td></tr>";             var popupText = popupText+ "<tr><th>bmp: </th><td>" + feature.properties['bmp']+"</td></tr>";             var popupText = popupText+ "<tr><th>suppcode: </th><td>" + feature.properties['suppcode']+"</td></tr>";             var popupText = popupText+ "<tr><th>labelrt: </th><td>" + feature.properties['labelrt']+"</td></tr>";             var popupText = popupText+ "<tr><th>a: </th><td>" + feature.properties['a']+"</td></tr>";             var popupText = popupText+ "<tr><th>routeid2: </th><td>" + feature.properties['routeid2']+"</td></tr>";             var popupText = popupText+ "<tr><th>cemp: </th><td>" + feature.properties['cemp']+"</td></tr>";             var popupText = popupText+ "<tr><th>ALIGNMENTS: </th><td>" + feature.properties['ALIGNMENTS']+"</td></tr>";             var popupText = popupText+ "<tr><th>route: </th><td>" + feature.properties['route']+"</td></tr>";             var popupText = popupText+ "<tr><th>bounds: </th><td>" + feature.properties['bounds']+"</td></tr>";             var popupText = popupText+ "<tr><th>shape_len: </th><td>" + feature.properties['shape_len']+"</td></tr>";             var popupText = popupText+ "<tr><th>countycode: </th><td>" + feature.properties['countycode']+"</td></tr>";             var popupText = popupText+ "<tr><th>COLORKEYS: </th><td>" + feature.properties['COLORKEYS']+"</td></tr>";             var popupText = popupText+ "<tr><th>emp: </th><td>" + feature.properties['emp']+"</td></tr>";             var popupText = popupText+ "<tr><th>maxdistance: </th><td>" + feature.properties['maxdistance']+"</td></tr>";             var popupText = popupText+ "<tr><th>options: </th><td>" + feature.properties['options']+"</td></tr>"; ; 	
		            layer.bindPopup(popupText, {autoPan:false, maxHeight:500, maxWidth:350} ); 
	        }});
	    dataLayer.addTo(map);
		map.fitBounds(dataLayer.getBounds())
		
		};

</script>